@model IEnumerable<Airport.Domain.Entities.flightinf>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_VisteurTemplate.cshtml";
}
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script>
   google.load('visualization', '1', { 'packages': ['map'] });
   google.setOnLoadCallback(drawMap);

    function drawMap(country) {
      var data = google.visualization.arrayToDataTable([

        ['Country', 'Visiteurs'],
        [country, 'China: 1,363,800,000']
      ]);

    var options = { showTip: true };
        
    var map = new google.visualization.Map(document.getElementById('chart_div'));
    map.draw(data, options);
   // alert("hello");
   // document.getElementById('chart_div').style.visibility="hidden";
  };
</script>

<style>
    table {
        box-sizing: border-box;
        overflow: hidden;
        margin: 0.5em auto;
        border-collapse: collapse;
        min-width: 23em;
        width: 70%;
        border-radius: .5em;
        box-shadow: 0 0 .5em #000;
    }

    .datagrid table {
        box-sizing: border-box;
        overflow: hidden;
        margin: 0.5em auto;
        border-collapse: collapse;
        min-width: 23em;
        width: 70%;
        border-radius: .5em;
        box-shadow: 0 0 .5em #000;
    }

    .datagrid {
        font: normal 12px/150% Arial, Helvetica, sans-serif;
        background: #fff;
        overflow: hidden;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
    }

        .datagrid table td, .datagrid table th {
            padding: 6px 6px;
        }

        .datagrid table thead th {
            background: -webkit-gradient( linear, left top, left bottom, color-stop(0.05, #495457), color-stop(1, #319950) );
            background: -moz-linear-gradient( center top, #495457 5%, #319950 100% );
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#495457', endColorstr='#319950');
            background-color: #495457;
            color: #FFFFFF;
            font-size: 15px;
            font-weight: bold;
        }

            .datagrid table thead th:first-child {
                border: none;
                padding: 10px;
            }

        .datagrid table tbody td {
            color: #275420;
            font-size: 13px;
            font-weight: normal;
            padding: 10px;
        }

        .datagrid table tbody .alt td {
            background: #DFFFDE;
            color: #275420;
        }

        .datagrid table tbody td:first-child {
            border-left: none;
        }

        .datagrid table tbody tr:last-child td {
            border-bottom: none;
        }

        .datagrid table tfoot td div {
            border-top: 1px solid #36752D;
            background: #DFFFDE;
        }

        .datagrid table tfoot td {
            padding: 7px;
            font-size: 12px;
        }

        .datagrid table tfoot {
            background: #B5FAB2;
        }

        .datagrid div {
            padding: 2px;
        }

        .datagrid ul {
            margin: 0;
            padding: 0;
            list-style: none;
            text-align: center;
        }

        .datagrid li {
            display: inline;
        }

            .datagrid li a {
                text-decoration: none;
                display: inline-block;
                padding: 2px 8px;
                margin: 1px;
                color: #FFFFFF;
                border: 1px solid #36752D;
                -webkit-border-radius: 3px;
                -moz-border-radius: 3px;
                border-radius: 3px;
                background: -webkit-gradient( linear, left top, left bottom, color-stop(0.05, #36752D), color-stop(1, #275420) );
                background: -moz-linear-gradient( center top, #36752D 5%, #275420 100% );
                filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#36752D', endColorstr='#275420');
                background-color: #36752D;
            }

        .datagrid ul.active, .datagrid ul a:hover {
            text-decoration: none;
            border-color: #275420;
            color: #FFFFFF;
            background: none;
            background-color: #36752D;
        }

    div.dhtmlx_window_active, div.dhx_modal_cover_dv {
        position: fixed !important;
    }
</style>

<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" title="HOME"><i class="ion-paper-airplane"></i>AIR<span>Port</span></a>
        </div> <!-- /.navbar-header -->
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            @Html.Partial("_LoginPartial")
            <ul class="nav navbar-nav navbar-right">
                <li>@Html.ActionLink("Home", "Index", "Home")</li>
                <li>@Html.ActionLink("About", "About", "Home")</li>
                <li>@Html.ActionLink("Services", "Services", "Home")</li>
                <li>@Html.ActionLink("Contact", "Contact", "Home")</li>
                <li>@Html.ActionLink("Search a flight", "index", "Flight")</li>
            </ul> <!-- /.nav -->

        </div><!-- /.navbar-collapse -->
    </div><!-- /.container -->
</nav>
<section class="section-background">
    <div class="container">
        <h2 class="page-header">
            Details
        </h2>
        <ol class="breadcrumb">
            <li>@Html.ActionLink("Home", "Index", "Home")</li>
            <li class="active">&nbsp;Search a flight>Details</li>
        </ol>
    </div> <!-- /.container -->
</section> <!-- /.section-background -->

<div class="datagrid">
    <table>
        <thead>
            <tr>
                <th>
                    Flight Reference
                </th>
                <th>
                    Type
                </th>
                <th>
                    Airport
                </th>
                <th>
                    City of Airport
                </th>
                <th>
                   Country
                </th>
                <th>
                    See your destination in map
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                if (item.type == true)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.idFlight)
                        </td>
                        <td>
                            Stopover
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.airport.name)
                        </td>
                        <td onclick=" drawMap('@item.airport.name')">
                            @Html.DisplayFor(modelItem => item.airport.city)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.airport.country)
                        </td>
                        <td onclick=" drawMap('@item.airport.name')">
                        Click here
                        </td>
                    </tr>
                }
                else
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.idFlight)
                        </td>
                        <td>
                            Arrival
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.airport.name)
                        </td>
                        <td onclick=" drawMap()">
                            @Html.DisplayFor(modelItem => item.airport.city)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.airport.country)
                        </td>
                        <td onclick=" drawMap('@item.airport.name')">
                            click Here
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
    </div>
<center><div id="chart_div" style="width: 1000px; height: 700px;"></div></center>


